<div class="d-flex mb-2">
  <button class="btn btn-light mr-1" {{action @onClose}}>
    {{fa-icon "times"}}
  </button>

  {{#unless this.isEditing}}
    <button class="btn btn-primary" {{action this.initializeEdit}}>
      {{fa-icon "edit"}}
      {{t "components.trade.details.edit"}}
    </button>
  {{else}}
    <button class="btn btn-primary mr-1" {{action this.persistEdit}}>
      {{fa-icon "save"}}
      {{t "components.trade.details.save"}}
    </button>

    <button class="btn btn-primary" {{action this.cancelEdit}}>
      {{fa-icon "undo"}}
      {{t "components.trade.details.cancel"}}
    </button>
  {{/unless}}

  <button class="btn btn-danger ml-auto" {{action this.delete}}>
    {{fa-icon "trash"}}
    {{t "components.trade.details.delete"}}
  </button>
</div>

{{#unless this.isEditing}}
  {{#if @trade.label}}
    <h3>
      {{@trade.label}}
    </h3>
  {{/if}}

  {{#if @trade.tags}}
    <h5 class="d-flex flex-wrap mt-1">
      {{#each @trade.tags as |tag|}}
        <div class="badge badge-primary badge-pill text-capitalize mr-1 mb-1">
          {{tag}}
        </div>
      {{/each}}
    </h5>
  {{/if}}

  {{#if @trade.notes}}
    <h5 class="mt-2 mb-1">
      {{fa-icon "file-alt"}}
      {{t "components.trade.details.notes"}}
    </h5>

    {{textarea-value @trade.notes}}
  {{/if}}
{{else}}
  {{pow-input-field
    placeholder=(t "components.page.trade_page.label_placeholder")
    value=this.stagedValues.label
    onChange=(action (mut this.stagedValues.label))
  }}

  {{pow-tags-field
    placeholder=(t "components.page.trade_page.tags_placeholder")
    tags=this.stagedValues.tags
  }}

  {{pow-input-field
    type="textarea"
    placeholder=(t "components.page.trade_page.notes_placeholder")
    value=this.stagedValues.notes
    onChange=(action (mut this.stagedValues.notes))
  }}
{{/unless}}
