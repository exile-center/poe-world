{{! template-lint-disable no-bare-strings no-implicit-this }}

<div local-class="atlas">
  <div local-class="wrapper">
    {{#pow-panzoom-container
      local-class="panzoom-container"
      minZoom=0.5
      maxZoom=1
      zoomSpeed=0.075
      onPanzoom=(action panzoom)
      onPanzoomInitialize=(action panzoomInitialize)
    }}
      <div local-class="map-background"></div>

      {{#if maps}}
        {{pow-atlas/maps
          currentMap=currentMap
          maps=maps
          onMapClick=(action mapSelect)
        }}
      {{/if}}

      {{#if currentMap}}
        {{pow-atlas/sextants
          map=currentMap
        }}
      {{/if}}
    {{/pow-panzoom-container}}
  </div>

  {{pow-atlas/searcher
    maps=searchedMaps
    onMapSearch=(action mapSearch)
    onMapSelect=(action mapSelect)
  }}
</div>
