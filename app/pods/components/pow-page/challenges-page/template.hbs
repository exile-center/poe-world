{{#pow-authenticated-container}}
  {{#pow-task-load-container task=this.challengesInitialLoadTask}}
    {{pow-task-load-bar task=this.challengesLoadTask}}

    <div class="d-flex h-100">
      <div local-class="challenges-list" class="list-group list-group-flush bg-darker flex-shrink-0">
        {{#each this.sortedChallenges as |challenge|}}
          <button
            class="list-group-item list-group-item-action d-flex justify-content-between align-items-center flex-shrink-0"
            {{action this.selectChallenge challenge.slug}}
          >
            <div>
              {{challenge.name}}
            </div>

            {{pow-challenge-progress/badge challenge=challenge}}
          </button>
        {{/each}}
      </div>

      <div local-class="challenge-details" class="flex-grow-1 p-3">
        <div class="card">
          <div class="card-body text-center">
            {{this.selectedChallenge.description}}
          </div>
        </div>

        {{#if this.selectedChallenge.subChallenges}}
          <div class="row mt-3">
            <div class="{{if this.selectedChallenge.leastAdvancedSubChallenges "col-6" "col-12"}}">
              <h4>
                {{t "components.page.challenges_page.most_advanced_sub_challenges"}}
              </h4>

              <ul local-class="{{unless this.selectedChallenge.leastAdvancedSubChallenges "list-split"}}" class="list-unstyled">
                {{#each this.selectedChallenge.mostAdvancedSubChallenges as |subChallenge|}}
                  <li class="d-inline-flex justify-content-between align-items-center w-100 p-1">
                    {{subChallenge.description}}
                    {{pow-challenge-progress/badge challenge=subChallenge}}
                  </li>
                {{/each}}
              </ul>
            </div>

            {{#if this.selectedChallenge.leastAdvancedSubChallenges}}
              <div class="col-6">
                <h4>
                  {{t "components.page.challenges_page.discarded_sub_challenges"}}
                </h4>

                <ul class="list-unstyled">
                  {{#each this.selectedChallenge.leastAdvancedSubChallenges as |subChallenge|}}
                    <li class="d-flex justify-content-between align-items-center p-1">
                      {{subChallenge.description}}
                      {{pow-challenge-progress/badge challenge=subChallenge}}
                    </li>
                  {{/each}}
                </ul>
              </div>
            {{/if}}
          </div>
        {{/if}}
      </div>
    </div>
  {{/pow-task-load-container}}
{{/pow-authenticated-container}}
